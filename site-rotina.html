<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Rotina Di√°ria</title>
    <style>
        /* --- ESTILOS GERAIS --- */
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans:wght@400;600&display=swap');

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #e0f7fa; /* Azul clarinho calmo */
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            color: #d32f2f; /* Vermelho Mario */
            font-size: 2.5rem;
            text-shadow: 2px 2px 0px #fff;
            margin-bottom: 10px;
            text-align: center;
        }

        #clock {
            font-size: 3rem;
            font-weight: bold;
            color: #0277bd;
            background: #fff;
            padding: 10px 30px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border: 4px solid #ffca28; /* Amarelo Moeda Mario */
        }

        /* --- BOT√ÉO INICIAL (Necess√°rio para o som funcionar no navegador) --- */
        #start-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Fredoka One', cursive;
            animation: pulse 2s infinite;
            margin-bottom: 20px;
        }

        /* --- LISTA DE TAREFAS --- */
        .timeline {
            width: 100%;
            max-width: 800px;
            display: none; /* Escondido at√© clicar em Iniciar */
        }

        .card {
            background: white;
            border-radius: 20px;
            margin-bottom: 20px;
            padding: 20px;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, border 0.3s ease;
            opacity: 0.7; /* Tarefas futuras ficam mais apagadas */
            border-left: 10px solid #bdbdbd;
        }

        .card.active {
            opacity: 1;
            transform: scale(1.05);
            border-left: 10px solid #4caf50; /* Verde Luigi */
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
            background-color: #f1f8e9;
        }

        .card.past {
            opacity: 0.5;
            background-color: #eeeeee;
        }

        .time-box {
            background: #ffca28;
            color: #3e2723;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 20px;
            min-width: 80px;
            text-align: center;
        }

        .icon-box {
            font-size: 3rem;
            margin-right: 20px;
            width: 60px;
            text-align: center;
        }
        
        /* Se voc√™ usar imagens reais, elas se ajustar√£o aqui */
        .icon-box img {
            width: 100%;
            height: auto;
        }

        .details {
            flex-grow: 1;
        }

        .details h2 {
            margin: 0;
            font-size: 1.5rem;
            color: #333;
        }

        /* --- ALARME MODAL (Pop-up) --- */
        #alarm-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #alarm-box {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            border: 8px solid #ffca28;
            animation: bounce 0.5s infinite alternate;
        }

        #alarm-message {
            font-size: 2rem;
            color: #d32f2f;
            margin-bottom: 20px;
            font-family: 'Fredoka One', cursive;
        }

        #stop-btn {
            background: #2196f3; /* Azul Sonic/Patrulha */
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5rem;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 0 #1976d2;
        }

        #stop-btn:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        /* Anima√ß√µes */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }

    </style>
</head>
<body>

    <h1>Rotina do Campe√£o üåü</h1>
    <div id="clock">00:00</div>
    
    <button id="start-btn" onclick="startRoutine()">üéÆ Iniciar Painel da Rotina</button>

    <div class="timeline" id="timeline">
        </div>

    <div id="alarm-modal">
        <div id="alarm-box">
            <div style="font-size: 4rem;">‚è∞üçÑ‚≠ê</div>
            <div id="alarm-message">Hora de Mudar!</div>
            <button id="stop-btn" onclick="stopAlarm()">Pronto, j√° vou!</button>
        </div>
    </div>

    <script>
        // --- CONFIGURA√á√ÉO DA ROTINA ---
        // Voc√™ pode editar o texto e os √≠cones aqui!
        // "time" deve ser no formato HH:MM (24h)
        // "icon" pode ser um emoji OU um link de imagem (ex: '<img src="mario.png">')
        const schedule = [
            { time: "06:00", title: "Escovar os dentes", icon: "ü™•" },
            { time: "06:30", title: "Comer o p√£ozinho", icon: "üçû" },
            { time: "07:00", title: "Desenhar no PC", icon: "üé®" },
            { time: "08:00", title: "Assistir no PC", icon: "üñ•Ô∏è" },
            { time: "09:30", title: "Pausa pro Lanche", icon: "üçé" },
            { time: "11:30", title: "Hora do Almo√ßo", icon: "üçõ" },
            { time: "14:00", title: "Hora de Estudar", icon: "üìö" },
            { time: "15:00", title: "Pausa pra Brincar", icon: "üéÆ" },
            { time: "16:00", title: "Usar o Computador", icon: "üíª" },
            { time: "18:00", title: "Jantar", icon: "spaghetti" }, // Exemplo de troca depois
            { time: "19:00", title: "Ler com a Mam√£e", icon: "üìñ" },
            { time: "19:30", title: "Usar o Computador", icon: "üïπÔ∏è" },
            { time: "21:00", title: "Dormir", icon: "üò¥" }
        ];

        // --- L√ìGICA DO SISTEMA ---
        let audioCtx;
        let isAlarmPlaying = false;
        let lastTriggeredTime = "";

        function startRoutine() {
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('timeline').style.display = 'block';
            
            // Inicializa √°udio
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioCtx = new AudioContext();
            
            renderSchedule();
            updateClock();
            setInterval(updateClock, 1000); // Atualiza a cada segundo
        }

        function renderSchedule() {
            const container = document.getElementById('timeline');
            container.innerHTML = "";
            
            schedule.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'card';
                div.id = `task-${index}`;
                div.innerHTML = `
                    <div class="time-box">${item.time}</div>
                    <div class="icon-box">${item.icon}</div>
                    <div class="details">
                        <h2>${item.title}</h2>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const currentTime = `${hours}:${minutes}`;

            document.getElementById('clock').innerText = currentTime;

            // Verifica qual atividade est√° ativa
            let activeFound = false;
            
            // Loop reverso para achar a atividade atual (a √∫ltima que j√° passou do hor√°rio)
            for (let i = schedule.length - 1; i >= 0; i--) {
                const taskTime = schedule[i].time;
                const card = document.getElementById(`task-${i}`);
                
                // Limpa classes
                card.classList.remove('active', 'past');

                if (currentTime >= taskTime && !activeFound) {
                    // Esta √© a atividade atual
                    card.classList.add('active');
                    activeFound = true;

                    // Disparar Alarme se o hor√°rio bate exato e ainda n√£o tocou
                    if (currentTime === taskTime && lastTriggeredTime !== currentTime) {
                        triggerAlarm(schedule[i].title);
                        lastTriggeredTime = currentTime;
                    }
                } else if (currentTime > taskTime) {
                    card.classList.add('past');
                }
            }
        }

        // --- SISTEMA DE SOM SUAVE (Sintetizador) ---
        function playSoftChime() {
            if (!audioCtx) return;
            
            // Cria osciladores para um som harm√¥nico (tipo sino/moeda do Mario)
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            // Configura√ß√£o do som (Sino suave)
            osc.type = 'sine';
            osc.frequency.setValueAtTime(523.25, audioCtx.currentTime); // D√≥
            osc.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1); // D√≥ Oitava acima
            
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1.5);
            
            osc.start();
            osc.stop(audioCtx.currentTime + 1.5);
        }

        let alarmInterval;

        function triggerAlarm(activityName) {
            if (isAlarmPlaying) return;
            isAlarmPlaying = true;
            
            const modal = document.getElementById('alarm-modal');
            const msg = document.getElementById('alarm-message');
            
            msg.innerText = `Hora de: ${activityName}!`;
            modal.style.display = 'flex';
            
            // Toca o som a cada 2 segundos at√© ele parar
            playSoftChime();
            alarmInterval = setInterval(playSoftChime, 2500);
        }

        function stopAlarm() {
            isAlarmPlaying = false;
            clearInterval(alarmInterval);
            document.getElementById('alarm-modal').style.display = 'none';
        }
    </script>
</body>
</html>